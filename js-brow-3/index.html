<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form>
      <label for="name">Ingresa tu nombre</label>
      <input type="text" id="name" name="name" placeholder="Ingresa tu nombre">
      <br />
      <br />
      <label for="name">Ingresa tu correo</label>    
      <input type="email" id="email" name="email" placeholder="Ingresa tu correo">
      <br />
      <br />
      <button type="submit">Guardar</button>
      <br />
      <br />
    </form>
    <section>
        <div id="infoStorage"></div>
        <br />
        <button type="button" id="btndelete">Delete info</button>
    </section>
    <script >
      // Obtener elementos del DOM
      const form = document.querySelector('form');
      const input = document.querySelector('#name');
      const email = document.querySelector('#email');
      const section = document.querySelector('#infoStorage');
      const btndelete = document.querySelector('#btndelete');
      showName();//Para que al recargar la p치gina, me muestre 
      // Manejar el evento de enviar el formulario
      form.addEventListener('submit', (event) => {
        localStorage.setItem('name', input.value);
        localStorage.setItem('email',email.value);

        input.value="";//Borro
        email.value="";
        console.log(localStorage);
        showName();
        event.preventDefault();
      });
      btndelete.addEventListener("click", function() {
        deleteName();
        showName();//Para actualizar la info
      });
      // Funci칩n para mostrar el nombre guardado en localStorage
      function showName() {
        if (localStorage.length<1) {
            section.innerHTML="No hay datos guardados localmente";
        }
        else {
            let strg="";
            for (let i=0;i<localStorage.length;i++){
                strg+=Object.keys(localStorage)[i]+":"+localStorage.getItem(Object.keys(localStorage)[i])+"<br />";
            }
            section.innerHTML=strg;
        }
      }

      // Funci칩n para borrar el nombre guardado en localStorage
      function deleteName() {
        llaves=Object.keys(localStorage);
        for (let i=0;i<llaves.length;i++){
            console.log(Object.keys(localStorage))
            localStorage.removeItem(llaves[i]);
        }
        showName();
      }

      // Mostrar el nombre guardado al cargar la p치gina
      
    </script>
</body>
</html>